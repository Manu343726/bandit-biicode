language: cpp
compiler:
	- gcc

before_install:
  # g++
  - if [ "$CXX" == "g++" ]; then sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test; fi

  - sudo apt-get update -qq

install:
  # g++4.8.1
  - if [ "$CXX" == "g++" ]; then sudo apt-get install -qq g++-4.8; fi
  - if [ "$CXX" == "g++" ]; then sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 50; fi

  # install biicode:
  - wget https://s3.amazonaws.com/biibinaries/release/1.3.3/bii-ubuntu32_1_3_3.deb 
  - (! sudo dpkg -i bii-ubuntu32_1_3_3.deb ) && sudo apt-get -f install
  - rm bii-ubuntu32_1_3_3.deb
  
  # Update cmake: 
  - wget http://www.cmake.org/files/v3.0/cmake-3.0.1-Linux-i386.tar.gz
  - tar -xzf cmake-3.0.1-Linux-i386.tar.gz
  - sudo cp -fR cmake-3.0.1-Linux-i386/* /usr
  - rm -rf cmake-3.0.1-Linux-i386
  - rm cmake-3.0.1-Linux-i386.tar.gz

script:
  - bii find
  - bii cpp:configure
  - bii cpp:build

  - ./bin/manu343726_bandit_blocktests_test
  - ./bin/examples_bandit_example_beginners